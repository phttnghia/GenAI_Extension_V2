<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Tableau AI Extension Demo</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="browser-demo-frame">
        <div class="extension-container">

            <!-- Tabs -->
            <div class="tab-bar">
                <button class="tab active" data-tab="analyze">ðŸ“ŠAnalyze Report</button>
                <button class="tab" data-tab="chat">ðŸ§ AI Assistant</button>
            </div>

            <!-- Content -->
            <div class="tab-content">

                <!-- Analyze Report -->
                <div id="analyze" class="tab-panel active">
                    <h3>ðŸ“Š AI-Generated Dashboard Insights</h3>
                    <p class="description">
                        Select filters on your dashboard and click Analyze to generate insights.
                    </p>

                    <div class="action-bar">
                        <button id="analyzeBtn" class="primary-btn"> â–¶ Analyze Data</button>
                        <span id="statusText" class="status">AI ready for analysis</span>
                    </div>
                    <div class="ai-context">
                    ðŸ¤– AI-generated insights based on current dashboard filters
                    </div>
                    <div id="analyzeResult" class="result-box empty">
                        No analysis generated yet. Apply filters and click Analyze.
                    </div>
                </div>

                <!-- Chatbox -->
                <div id="chat" class="tab-panel">
                    <h3>ðŸ§  AI Assistant</h3>
                    <p class="description">
                    Ask AI to analyze trends, risks, and anomalies in this dashboard.
                    </p>

                    <textarea id="chatInput" rows="2"
                        placeholder="Ask a specific question about this data..."></textarea>

                    <div class="chat-actions">
                        <span id="charCount">0 / 500</span>
                        <button id="sendBtn" class="primary-btn" disabled>
                        âž¤ Send
                        </button>


                    </div>
                    <div class="ai-answer-label">
                        AI Response
                    </div>

                    <div id="chatResult" class="result-box empty">
                        No response yet.
                    </div>
                    <div class="ai-footer">
                    Powered by enterprise-grade AI Â· Responses may require human validation
                    </div>

                </div>

            </div>

            <!-- DEBUG PANEL (Äá»ƒ kiá»ƒm tra JSON) -->
            <div style="margin-top:20px; padding:10px; background:#f0f0f0; border:1px solid #ccc; border-radius:4px;">
                <details>
                    <summary style="cursor:pointer; font-weight:bold; color:#333; user-select:none;">
                        ðŸ”§ Debug Console (Hiá»ƒn thá»‹ JSON Response)
                    </summary>
                    <div id="debugPanel" style="margin-top:10px; background:#fff; padding:10px; border:1px solid #ddd; border-radius:4px; max-height:300px; overflow-y:auto; font-family:monospace; font-size:11px; white-space:pre-wrap; word-wrap:break-word; color:#333;">
                        Ready to display JSON responses...
                    </div>
                </details>
            </div>
        </div>
    </div>
    <script src="tableau.extensions.1.latest.js"></script>
    <script src="app.js"></script>

</body>

</html>